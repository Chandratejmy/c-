#include<iostream>
#include<string>
using namespace std;
struct node
{
    int data;
    node *link;
};
class list 
{
    public:
    node *head;
    int item;
    list()
    {
        head=NULL;
    } 
    
    void insert_front()     // adding a  new node front side
    {
        node *newnode=new node;
        newnode->data=item;
        newnode->link=head;
        head=newnode;
    }
    
    void insert_rear()// adding a newnode back side
    {
        node *newnode=new node;
        node *cur=new node;
        newnode->data=item;
        newnode->link=NULL;
        if(head==NULL){
    head=newnode;
    return;
    }
    cur=head;
    while(cur->link!=NULL)
      cur=cur->link;
    cur->link=newnode;
    }
    
    void delete_front()  //deleting node front side
    {
        if(head==NULL)
        {
            cout<<"empty list\n";
            return;
        }
        head=head->link;
    }
    void delete_rear()
    {
        node *prev=new node;
        node *cur=new node;
        if(head==NULL)
        {
            cout<<"empty list"<<endl;
            return;
        }
        cur=head;
        if(cur->link==NULL)
        {
            head=NULL;
            return;
        }
        while(cur->link!=NULL){
        prev=cur;
        cur=cur->link;
        }
        prev->link=NULL;
        delete cur;
    }
    
    void search_delete()
    {
        node *prev=new node;
        node *cur=new node;
        prev=NULL;
        cur=NULL;
        while(cur!=NULL)
        {
            if(cur->data==item)
            {
                cout<<"found & deleted"<<endl;
                if(cur->link==NULL)
                {
                    head=NULL;
                    return;
                }
                if(cur==head)
                {
                    head=cur->link;
                    return;
                }
            else
            {
            prev->link=cur->link;
            return;
            }
        prev=cur;
        cur=cur->link;
            }
        cout<<"not found";
        }
    }
     void display()
     {
         node *temp=new node;
         temp=head;
         if(temp==NULL)
         cout<<"Empty list";
        while(temp!=NULL)
        {
            cout<<temp->data<<endl;
            temp=temp->link;
        }
     }
};
int main()
{
    int choice;
    list obj;
    for(;;)
    {
        cout<<"1:insert_front\n2:insert_rear\n3:delete front\n4:delete rear\n5:diplay\n6:serach&delete\n7:exit\n";
        cout<<"enter the choice :";
        cin>>choice;
        switch(choice){
        case 1:
        cout<<"enter item\n";
        cin>>obj.item;
        obj.insert_front();
        break;
        case 2:
        cout<<"enter item\n";
        cin>>obj.item;
        obj.insert_rear();
        break;
        case 3:
        obj.delete_front();
        break;
        case 4:
        obj.delete_rear();
        break;
        case 5:
        obj.display();
        break;
        case 6:
        cout<<"enter item\n";
        cin>>obj.item;
        obj.search_delete();
        break;
        default:exit(0);
        }
        
    }
}
  
